<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wishlist - F1 Gear</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'racing-green': '#003B2B',     // Primary background
                        'metallic-silver': '#B0B0B0',  // Text, clean look
                        'gold-accent': '#CBA135',      // Luxury accents
                        'carbon-gray': '#2F2F2F',      // Secondary sections
                        'racing-white': '#FAFAFA',     // Product cards, highlights
                        'racing-red': '#D50000',       // For error states and alerts
                        'racing-black': '#121212',     // Deep background for dark mode
                        'asphalt-gray': '#4A4A4A',     // Text on light backgrounds
                        'champagne-gold': '#F8E9A1',   // Lighter gold variant
                        'pit-lane-gray': '#6A6A6A'     // Mid-tone gray for subtle elements
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="style.css" rel="stylesheet">
    <link href="f1-styles.css" rel="stylesheet">
</head>
<body>
<div class="streak"></div>
<div class="streak"></div>
<div class="streak"></div>
<div class="streak"></div>

<header class="bg-racing-green text-racing-white p-4 flex justify-between items-center sticky top-0 z-50">
    <div class="logo">
        <a href="index.html" class="text-2xl font-bold text-gold-accent">F1 GEAR</a>
    </div>
    <nav class="flex space-x-4 items-center">
        <a href="index.html" class="hover:text-gold-accent transition-all">Home</a>
        <a href="https://f1stories.gr/#about" class="hover:text-gold-accent transition-all">About</a>
        <a href="https://f1stories.gr/#contact" class="hover:text-gold-accent transition-all">Contact</a>
        <a href="wishlist.html" class="hover:text-gold-accent relative transition-all">
            <i class="fas fa-heart"></i>
            <span
                    id="wishlist-count"
                    class="absolute -top-2 -right-2 bg-racing-red text-racing-white text-xs rounded-full px-2 py-1 hidden"
            >
                0
            </span>
        </a>
        <a href="cart.html" class="hover:text-gold-accent relative transition-all">
            <i class="fas fa-shopping-cart"></i>
            <span
                    id="cart-count"
                    class="cart-count absolute -top-2 -right-2 bg-racing-red text-racing-white text-xs rounded-full px-2 py-1 hidden"
            >
                0
            </span>
        </a>
        <button id="darkModeToggle" class="hover:text-gold-accent transition-all p-1 rounded-full">
            <i class="fas fa-moon"></i>
        </button>
    </nav>
</header>

<!-- Racing stripe accent -->
<div class="racing-stripe"></div>

<!-- Main content wrapper for fixed footer -->
<div id="main-content">
    <div class="container mx-auto mt-8 p-4 fade-in">
        <h1 class="text-3xl font-bold mb-6 text-racing-green">Your Wishlist</h1>

        <div id="wishlistItems" class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Wishlist items will be dynamically inserted here -->
        </div>

        <div id="emptyWishlist" class="text-center mt-12 py-16 border-2 border-dashed border-pit-lane-gray rounded-lg hidden">
            <i class="fas fa-heart text-pit-lane-gray text-6xl mb-4"></i>
            <p class="text-racing-green text-2xl font-bold mb-2">Your wishlist is empty</p>
            <p class="text-asphalt-gray mb-6">Save items you love for future reference</p>
            <a
                    href="index.html"
                    class="cta-button"
            >
                Continue Shopping
            </a>
        </div>
    </div>
</div>

<footer class="bg-racing-green text-racing-white mt-8 py-8">
    <div class="racing-stripe mb-8"></div>
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <h3 class="text-gold-accent text-xl font-bold mb-4">F1 GEAR</h3>
                <p class="text-metallic-silver">Premium racing merchandise for the true Formula 1 enthusiast. Get the latest gear from your favorite teams and drivers.</p>
            </div>
            <div>
                <h3 class="text-gold-accent text-xl font-bold mb-4">Quick Links</h3>
                <ul class="space-y-2">
                    <li><a href="index.html" class="text-metallic-silver hover:text-gold-accent transition-colors">Home</a></li>
                    <li><a href="https://f1stories.gr" class="text-metallic-silver hover:text-gold-accent transition-colors">F1 Stories</a></li>
                    <li><a href="https://f1stories.gr/#about" class="text-metallic-silver hover:text-gold-accent transition-colors">About</a></li>
                    <li><a href="https://f1stories.gr/#contact" class="text-metallic-silver hover:text-gold-accent transition-colors">Contact</a></li>
                    <li><a href="cart.html" class="text-metallic-silver hover:text-gold-accent transition-colors">Cart</a></li>
                    <li><a href="wishlist.html" class="text-metallic-silver hover:text-gold-accent transition-colors">Wishlist</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-gold-accent text-xl font-bold mb-4">Connect With Us</h3>
                <div class="social-icons">
                    <a href="https://www.youtube.com/@F1_Stories_Original" target="_blank" class="text-metallic-silver hover:text-gold-accent transition-colors social-youtube" aria-label="YouTube">
                        <i class="fab fa-youtube"></i>
                    </a>
                    <a href="https://www.facebook.com/f1storiess" target="_blank" class="text-metallic-silver hover:text-gold-accent transition-colors social-facebook" aria-label="Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a href="https://www.instagram.com/myf1stories/" target="_blank" class="text-metallic-silver hover:text-gold-accent transition-colors social-instagram" aria-label="Instagram">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.tiktok.com/@f1stories6" target="_blank" class="text-metallic-silver hover:text-gold-accent transition-colors social-tiktok" aria-label="TikTok">
                        <i class="fab fa-tiktok"></i>
                    </a>
                    <a href="mailto:myf1stories@gmail.com" class="text-metallic-silver hover:text-gold-accent transition-colors social-email" aria-label="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://open.spotify.com/show/0qC80ahDY824BME9FtxryS?si=bae4f48cf1ee4ded" target="_blank" class="text-metallic-silver hover:text-gold-accent transition-colors social-spotify" aria-label="Spotify">
                        <i class="fab fa-spotify"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="mt-8 pt-8 border-t border-pit-lane-gray text-center text-metallic-silver">
            <p>&copy; 2025 F1 GEAR. All rights reserved.</p>
        </div>
    </div>
</footer>

<!-- Back to top button -->
<button id="back-to-top" class="back-to-top-btn">
    <i class="fas fa-chevron-up"></i>
</button>

<!-- Mobile Navigation for Small Screens -->
<div class="mobile-menu-wrapper hidden md:hidden">
    <nav class="mobile-nav">
        <a href="index.html" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2">
            <i class="fas fa-home"></i>
            <span class="text-xs mt-1">Home</span>
        </a>
        <a href="cart.html" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2 relative">
            <i class="fas fa-shopping-cart"></i>
            <span class="text-xs mt-1">Cart</span>
            <span class="cart-count absolute -top-1 -right-1 bg-racing-red text-racing-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
        </a>
        <a href="wishlist.html" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2 relative">
            <i class="fas fa-heart"></i>
            <span class="text-xs mt-1">Wishlist</span>
            <span id="mobile-wishlist-count" class="absolute -top-1 -right-1 bg-racing-red text-racing-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
        </a>
        <button id="mobileDarkModeToggle" class="flex flex-col items-center text-racing-white hover:text-gold-accent transition-colors p-2">
            <i class="fas fa-moon"></i>
            <span class="text-xs mt-1">Theme</span>
        </button>
    </nav>
</div>

<!-- Notification Container -->
<div id="notification-container" class="fixed top-4 right-4 z-50"></div>

<script>
    // Wishlist Management
    function renderWishlist() {
        const wishlistContainer = document.getElementById('wishlistItems');
        const emptyWishlist = document.getElementById('emptyWishlist');

        // Get wishlist from localStorage
        const wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');

        // Clear previous items
        wishlistContainer.innerHTML = '';

        // Check if wishlist is empty
        if (wishlist.length === 0) {
            emptyWishlist.classList.remove('hidden');
            return;
        }

        // Hide empty wishlist message
        emptyWishlist.classList.add('hidden');

        // Render wishlist items
        wishlist.forEach((product) => {
            const wishlistItem = document.createElement('div');
            wishlistItem.className = 'product-card fade-in bg-racing-white rounded-lg overflow-hidden shadow-lg border hover:border-gold-accent relative transition-all duration-300 flex flex-col';

            wishlistItem.innerHTML = `
                <div class="relative group">
                    <a href="product-details.html?id=${product.id}" class="block">
                        <img
                            src="${product.imageUrl}"
                            alt="${product.name}"
                            class="product-img w-full h-48 md:h-40 object-cover group-hover:brightness-105 transition-all duration-300"
                            loading="lazy"
                        >
                    </a>
                    <div class="absolute top-0 left-0 w-full h-1 bg-racing-green"></div>
                    <button
                        class="wishlist-toggle absolute top-2 right-2 text-racing-red hover:scale-110 transition-all"
                        onclick="removeFromWishlist('${product.id}')"
                        aria-label="Remove from wishlist"
                    >
                        <i class="fas fa-heart"></i>
                    </button>
                    <div class="absolute bottom-0 left-0 w-full px-3 py-2 bg-gradient-to-t from-carbon-gray to-transparent">
                        <span class="text-white text-xs md:text-sm font-medium rounded-full bg-racing-green px-2 py-1">${product.category}</span>
                    </div>
                </div>
                <div class="p-3 md:p-4 flex-grow flex flex-col">
                    <a href="product-details.html?id=${product.id}" class="block">
                        <h3 class="text-racing-green font-bold text-base md:text-lg mb-1 line-clamp-1">${product.name}</h3>
                    </a>
                    <p class="text-asphalt-gray text-xs md:text-sm mb-2 line-clamp-2 flex-grow">${product.description.substring(0, 75)}${product.description.length > 75 ? '...' : ''}</p>

                    <div class="flex justify-between items-center mt-auto pt-2 border-t border-pit-lane-gray border-opacity-20">
                        <span class="price text-gold-accent font-bold text-base md:text-lg">$${product.price.toFixed(2)}</span>
                        <button
                            onclick="addToCart('${product.id}')"
                            class="
                                add-to-cart-btn
                                bg-racing-green
                                text-racing-white
                                px-3
                                py-1.5
                                rounded
                                hover:bg-gold-accent
                                transition-colors
                                text-xs
                                md:text-sm
                                font-medium
                                relative
                                overflow-hidden
                            "
                            aria-label="Add ${product.name} to cart"
                        >
                            <span class="relative z-10">Add to Cart</span>
                            <span class="absolute inset-0 bg-gold-accent transform scale-x-0 origin-left transition-transform duration-300"></span>
                        </button>
                    </div>
                </div>
            `;

            wishlistContainer.appendChild(wishlistItem);
        });

        // Initialize fade-in animation
        const fadeElements = document.querySelectorAll('.fade-in');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, {
            threshold: 0.1
        });

        fadeElements.forEach(element => {
            observer.observe(element);
        });
    }

    // Remove item from wishlist
    function removeFromWishlist(productId) {
        const wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');

        // Find product info before removing
        const product = wishlist.find(item => item.id === productId);

        // Remove from wishlist
        const updatedWishlist = wishlist.filter(item => item.id !== productId);

        // Update localStorage
        localStorage.setItem('wishlist', JSON.stringify(updatedWishlist));

        // Update counter
        updateWishlistCounter();

        // Re-render wishlist
        renderWishlist();

        // Show notification
        showNotification(`Removed ${product.name} from wishlist`, 'info');
    }

    // Add to cart functionality
    function addToCart(productId) {
        const wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
        const cart = JSON.parse(localStorage.getItem('cart') || '[]');

        // Find product in wishlist
        const product = wishlist.find(item => item.id === productId);

        if (!product) {
            showNotification('Product not found', 'error');
            return;
        }

        // Check if product already in cart
        const existingProductIndex = cart.findIndex(item => item.id === productId);

        if (existingProductIndex > -1) {
            // Increment quantity
            cart[existingProductIndex].quantity += 1;
        } else {
            // Add new product
            cart.push({ ...product, quantity: 1 });
        }

        // Update localStorage
        localStorage.setItem('cart', JSON.stringify(cart));

        // Update cart counter
        updateCartCounter();

        // Show notification
        showNotification(`Added ${product.name} to cart`, 'success');
    }

    // Update wishlist counter
    function updateWishlistCounter() {
        const wishlist = JSON.parse(localStorage.getItem('wishlist') || '[]');
        const wishlistCountElements = document.querySelectorAll('#wishlist-count, #mobile-wishlist-count');

        wishlistCountElements.forEach(element => {
            element.textContent = wishlist.length;

            if (wishlist.length > 0) {
                element.classList.remove('hidden');
            } else {
                element.classList.add('hidden');
            }
        });
    }

    // Update cart counter
    function updateCartCounter() {
        const cart = JSON.parse(localStorage.getItem('cart') || '[]');
        const cartCountElements = document.querySelectorAll('.cart-count');

        const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);

        cartCountElements.forEach(element => {
            element.textContent = totalItems;

            if (totalItems > 0) {
                element.classList.remove('hidden');
                element.classList.add('cart-pulse');
                setTimeout(() => {
                    element.classList.remove('cart-pulse');
                }, 300);
            } else {
                element.classList.add('hidden');
            }
        });
    }

    // Enhanced notification system
    function showNotification(message, type = 'info') {
        const container = document.getElementById('notification-container') || createNotificationContainer();

        const notification = document.createElement('div');
        notification.className = `notification ${type}`;

        let icon = '';
        switch(type) {
            case 'success':
                icon = '<i class="fas fa-check-circle"></i>';
                break;
            case 'error':
                icon = '<i class="fas fa-exclamation-circle"></i>';
                break;
            default:
                icon = '<i class="fas fa-info-circle"></i>';
        }

        notification.innerHTML = `
            <div class="flex items-center">
                ${icon}
                <span class="ml-2">${message}</span>
            </div>
            <button class="ml-4 text-sm hover:text-gold-accent" onclick="this.parentNode.remove()">
                <i class="fas fa-times"></i>
            </button>
        `;

        container.appendChild(notification);

        // Animate in
        setTimeout(() => {
            notification.classList.add('show');
        }, 10);

        // Auto remove after 3 seconds
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => {
                notification.remove();
            }, 300);
        }, 3000);
    }

    // Create notification container if it doesn't exist
    function createNotificationContainer() {
        const container = document.createElement('div');
        container.id = 'notification-container';
        container.className = 'fixed top-4 right-4 z-50';
        document.body.appendChild(container);
        return container;
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
        renderWishlist();
        updateWishlistCounter();
        updateCartCounter();

        // Initialize dark mode
        const darkModeToggle = document.getElementById('darkModeToggle');
        const mobileDarkModeToggle = document.getElementById('mobileDarkModeToggle');
        const body = document.body;

        // Check initial dark mode state
        if (localStorage.getItem('darkMode') === 'true') {
            body.classList.add('dark');
            darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            if (mobileDarkModeToggle) {
                mobileDarkModeToggle.querySelector('i').className = 'fas fa-sun';
            }
        }

        darkModeToggle.addEventListener('click', () => {
            body.classList.toggle('dark');
            const isDark = body.classList.contains('dark');
            localStorage.setItem('darkMode', isDark);
            darkModeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            if (mobileDarkModeToggle) {
                mobileDarkModeToggle.querySelector('i').className = isDark ? 'fas fa-sun' : 'fas fa-moon';
            }
        });

        if (mobileDarkModeToggle) {
            mobileDarkModeToggle.addEventListener('click', () => {
                body.classList.toggle('dark');
                const isDark = body.classList.contains('dark');
                localStorage.setItem('darkMode', isDark);
                darkModeToggle.innerHTML = isDark ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
                mobileDarkModeToggle.querySelector('i').className = isDark ? 'fas fa-sun' : 'fas fa-moon';
            });
        }

        // Initialize back to top button
        const backToTopBtn = document.getElementById('back-to-top');

        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    });
</script>

<script src="mobile-optimizations.js"></script>
<script src="f1-scripts.js"></script>
</body>
</html>